(this["webpackJsonphydrane-case-study"]=this["webpackJsonphydrane-case-study"]||[]).push([[0],{179:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(56),o=a.n(l),i=(a(65),a(66),a(57)),c=a(5),s=a(6),u=a(8),p=a(7),d=a(9),h=(a(67),a(68),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.onOkSubmit()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"HYDRANE REACTJS FRONTEND DEV CASE STUDY"),r.a.createElement("button",{onClick:this.handleClick,className:"button"},"GO")))}}]),t}(n.Component)),m=a(58),g=a.n(m),f=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tbody",null,this.props.data.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.continentName),r.a.createElement("td",null,t.countryName),("Area"===e.props.selectAreaOrPopulation||"All"===e.props.selectAreaOrPopulation)&&r.a.createElement("td",null,t.areaInSqKm),("Population"===e.props.selectAreaOrPopulation||"All"===e.props.selectAreaOrPopulation)&&r.a.createElement("td",null,t.population))})))}}]),t}(n.Component),b=a(30),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getSlice=function(){var e=a.props.data.slice(0,a.props.chart),t=a.props.data.slice(a.props.chart+1,a.props.data.length),n=t.reduce((function(e,t){return e+Number(t.population)}),0),r=t.reduce((function(e,t){return e+Number(t.areaInSqKm)}),0),l={countryName:"others"};return l.population=n.toString(),l.areaInSqKm=r.toString(),e.push(l),e},a.getLabels=function(){return a.getSlice().map((function(e){return e.countryName}))},a.getPopulation=function(){var e=a.getSlice().map((function(e){return e.population}));return console.log(e),e},a.getArea=function(){return a.getSlice().map((function(e){return e.areaInSqKm}))},a.getColors=function(e){return["red","yellow","green","blue","purple","aqua","brown","lightgreen","indigo","lightpink","magenta","silver","fuchsia","darkorange","darkgreen","darksalmon","gold","darkorchid","beige","darkolivegreen"].slice(0,e+1)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"piechart-container"},("All"===this.props.areaOrPop||"Population"===this.props.areaOrPop)&&r.a.createElement("div",{className:"piechart"},this.props.loading?r.a.createElement("h3",null," Country Population"):null,r.a.createElement(b.a,{data:{labels:this.getLabels(),datasets:[{data:this.getPopulation(),backgroundColor:this.getColors(this.props.chart)}]},height:"80%"})),("All"===this.props.areaOrPop||"Area"===this.props.areaOrPop)&&r.a.createElement("div",{className:"piechart"},this.props.loading?r.a.createElement("h3",null," Country Area"):null,r.a.createElement(b.a,{data:{labels:this.getLabels(),datasets:[{data:this.getArea(),backgroundColor:this.getColors(this.props.chart)}]},height:"80%"})))}}]),t}(n.Component);function A(e){return e.loading?r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colspan:"2"},"TOTAL"),("Area"===e.selectedAreaOrPopulation||"All"===e.selectedAreaOrPopulation)&&r.a.createElement("td",null,e.data.reduce((function(e,t){return e+Number(t.areaInSqKm)}),0)),("Population"===e.selectedAreaOrPopulation||"All"===e.selectedAreaOrPopulation)&&r.a.createElement("td",null,e.data.reduce((function(e,t){return e+Number(t.population)}),0)))):null}var O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handleSubmit=function(){g.a.get("http://api.geonames.org/countryInfoJSON?formatted=true&username=hydrane").then((function(t){e.setState({data:t.data.geonames,isLoading:!e.state.isLoading,filteredData:t.data.geonames}),console.log(e.state.data)})).catch((function(e){return console.log(e)}))},e.handleContinentChange=function(t){var a="All"===t.target.value?e.state.data:e.state.data.filter((function(e){return e.continentName===t.target.value}));e.setState({selectedContinent:t.target.value,filteredData:a})},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.getContinents=function(){return e.state.data.map((function(e){return e.continentName})).filter((function(e,t,a){return a.indexOf(e)===t})).sort()},e.handleClick=function(t){var a=t.target.id,n=e.state.sort?1:-1,r=e.state.sort?-1:1,l=[];switch(console.log(a,e.state.filteredData),a){case"continentName":case"countryName":l=e.state.filteredData.sort((function(e,t){return e[a]>t[a]?n:e[a]<t[a]?r:0}));break;case"areaInSqKm":case"population":l=e.state.filteredData.sort((function(e,t){return Number(e[a])>Number(t[a])?n:Number(e[a])<Number(t[a])?r:0}))}e.setState({sort:!e.state.sort,filterdData:l})},e.state={isLoading:!1,data:[],selectedContinent:"All",selectAreaOrPopulation:"All",chart:5,filteredData:[],sort:!0},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,{onOkSubmit:this.handleSubmit}),r.a.createElement("div",{className:"filters-container"},r.a.createElement("div",{className:"filter"},r.a.createElement("label",null,"Filter by Continents"),r.a.createElement("select",{name:"selectedContinent",value:this.state.selectedContinent,onChange:this.handleContinentChange},r.a.createElement("option",{value:"All"},"All Continents"),this.getContinents().map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"filter"},r.a.createElement("label",null,"Filter by Population/Area"),r.a.createElement("select",{name:"selectAreaOrPopulation",value:this.state.selectAreaOrPopulation,onChange:this.handleChange},r.a.createElement("option",{value:"All"},"All"),r.a.createElement("option",{value:"Area"},"Area"),r.a.createElement("option",{value:"Population"},"Population"))),r.a.createElement("div",{className:"filter"},r.a.createElement("label",null,"Chart max result"),r.a.createElement("select",{name:"chart",value:this.state.chart,onChange:this.handleChange},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20")))),this.state.isLoading&&r.a.createElement(E,{data:this.state.filteredData,chart:this.state.chart,areaOrPop:this.state.selectAreaOrPopulation,selectedContinent:this.state.selectedContinent,selectAreaOrPopulation:this.state.selectAreaOrPopulation,loading:this.state.isLoading}),r.a.createElement("div",{className:"table-container table-wrapper-scroll-y my-custom-scrollbar "},r.a.createElement("table",{className:"table table table-bordered table-striped mb-0"},this.state.isLoading?r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{id:"continentName",onClick:this.handleClick,scope:"col"},"Continent \u25bc \u25b2 "),r.a.createElement("th",{id:"countryName",onClick:this.handleClick,scope:"col"},"Country \u25bc \u25b2"),("Area"===this.state.selectAreaOrPopulation||"All"===this.state.selectAreaOrPopulation)&&r.a.createElement("th",{onClick:this.handleClick,id:"areaInSqKm",scope:"col"},"Area \u25bc \u25b2"),("Population"===this.state.selectAreaOrPopulation||"All"===this.state.selectAreaOrPopulation)&&r.a.createElement("th",{onClick:this.handleClick,id:"population",scope:"col"},"Population \u25bc \u25b2"))):null,r.a.createElement(f,{data:this.state.filteredData,selectedContinent:this.state.selectedContinent,selectAreaOrPopulation:this.state.selectAreaOrPopulation,loading:this.state.isLoading}),r.a.createElement(A,{loading:this.state.isLoading,data:this.state.filteredData,selectedAreaOrPopulation:this.state.selectAreaOrPopulation}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,a){e.exports=a(179)},66:function(e,t,a){},68:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.eb75fd88.chunk.js.map